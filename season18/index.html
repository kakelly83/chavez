<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Greys Anatomy</title>

    <!-- google fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Syne:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <!-- font awesome -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
    <link href="https://use.fontawesome.com/css/fontawesome.css" rel="stylesheet">
    <link href="https://use.fontawesome.com/css/brands.css" rel="stylesheet">
    <link href="https://use.fontawesome.com/css/solid.css" rel="stylesheet">

    <!-- custom style sheet -->
    <link rel="stylesheet" href="../css/styles.css">

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
  </head>
  <body>

    <section>
      <div class="container-fluid">
          <h1>Grey's Anatomy</h1>
        <h2><i class="fas fa-user-md"></i> Season 18</h2>
          <div class="row">
              <div class="col-lg-2 col-md-4 col-sm-12">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#questionModal" data-question="Who da best?" data-answer="Yang"  data-btntxt="I just want to watch the episode" data-btnresponse="I know you do but this was more fun for me" data-eplink="https://stream-1-1-ip4.loadshare.org/slice/7/VideoID-d8dkc9aI/we8SOj/PkLVSt/ZP2qKV/kwZtVm/360?name=greys-anatomy-season-18-episode-01-here-comes-the-sun_360&token=ip=82.38.6.70~st=1640812503~exp=1640826903~acl=/*~hmac=ae8e05fdd3f910dd1f973ee347d8e97aecf8f0114a23800485ff490b6666e7a4">Episode 1</button>
              </div>
              <div class="col-lg-2 col-md-4 col-sm-12">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#questionModal" data-question="What's the name of that fire fighter spin off?" data-answer="Station 19" data-btntxt="This is stupid" data-btnresponse="Very very stupid. But you still have to do it." data-eplink="https://stream-1-1-ip4.loadshare.org/slice/8/VideoID-nLgIiYFb/okqTdW/hn4AMI/ppGlQS/AnEAmy/360?name=greys-anatomy-season-18-episode-02-some-kind-of-tomorrow_360&token=ip=84.252.220.231~st=1640867108~exp=1640881508~acl=/*~hmac=0afb47105a1e12c70258f18f0c7d07c477a6f63698121e2fab53ff84b35d7f41">Episode 2</button>
              </div>
              <div class="col-lg-2 col-md-4 col-sm-12">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#questionModal" data-question="I was once playing a video game where Jesse Williams popped up which I thought was weird. Which video game was I playing?" data-answer="NBA 2K21" data-btntxt="You're an ass" data-btnresponse="Yes, yes I am." data-eplink="https://stream-1-1-ip4.loadshare.org/slice/7/VideoID-BjsP45wP/mm0Haq/DMoBPJ/Jd8IYC/Ub6joK/360?name=greys-anatomy-season-18-episode-03-hotter-than-hell_360&token=ip=84.252.220.231~st=1640867197~exp=1640881597~acl=/*~hmac=c36f08fc773f0214dae88c3fd6def4d53607d5fac5b7a72f8049ee59dcb29e47">Episode 3</button>
              </div>
              <div class="col-lg-2 col-md-4 col-sm-12">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#questionModal" data-question="Complete this awesome name: _ _ _ _ DeLorenzo" data-answer="Dino" data-btntxt="I hate you" data-btnresponse="I know." data-eplink="https://stream-1-1-ip4.loadshare.org/slice/7/VideoID-YRsGJ4co/Vd3phv/vSTqCT/HRmHTq/HGhFKw/360?name=greys-anatomy-season-18-episode-04-with-a-little-help-from-my-friends_360&token=ip=84.252.220.231~st=1640867262~exp=1640881662~acl=/*~hmac=d614db362a5d4bba7f4f9fd42f4e01ad8619869d9d6195d03ceab105e3202444">Episode 4</button>
              </div>
              <div class="col-lg-2 col-md-4 col-sm-12">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#questionModal" data-question="What ex Greys actress appeared on a recent TV reboot. There is possibly more than one, but you need to think of the one I am thinking of." data-answer="Sara Ramirez" data-btntxt="I genuinely actually hate you" data-btnresponse="Wait until you see the next question." data-eplink="https://stream-1-1-ip4.loadshare.org/slice/7/VideoID-4JwrGmQ0/NqKmJm/Nt6UZc/GPtg2O/ae4vQW/360?name=greys-anatomy-season-18-episode-05-bottle-up-and-explode_360&token=ip=84.252.220.231~st=1640867354~exp=1640881754~acl=/*~hmac=c7f784238fe4c93347550b1ecfd4c13789237ba6633d901c2bc790f28e562928">Episode 5</button>
              </div>
              <div class="col-lg-2 col-md-4 col-sm-12">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#questionModal" data-question="What are the two people sat next to me drinking right now" data-answer="hot chocolate" data-btntxt="This is actually quite fun" data-btnresponse="No it isn't, you just wanted to see what the response was." data-eplink="https://stream-1-1-ip4.loadshare.org/slice/7/VideoID-5e6XZ47d/RnWIhJ/DwJoHk/kphw9P/AGwmNJ/360?name=greys-anatomy-season-18-episode-06-every-day-is-a-holiday-with-you_360&token=ip=84.252.220.231~st=1640867403~exp=1640881803~acl=/*~hmac=ded74ed6dea57b747009374a3941c07e7e112bbf0b7fad5fbc9766a19d8f4f67">Episode 6</button>
              </div>
          </div>
          <div class="row">
              <div class="col-lg-2 col-md-4 col-sm-12">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#questionModal" data-question="Which Greys actress played 'Kate' in what looks to be an awful retelling of how Prince William met Kate Middleton" data-answer="Camilla Luddington" data-btntxt="" data-btnresponse="" data-eplink="https://stream-1-1-ip4.loadshare.org/slice/7/VideoID-opfINP9o/FElWWf/bPYoMq/dPQVep/hVodwp/360?name=greys-anatomy-season-18-episode-07-today-was-a-fairytale_360&token=ip=84.252.220.231~st=1640867444~exp=1640881844~acl=/*~hmac=84ee89e2620037feb6c2dd43965d87febc8e5f6ceb5523e72c6bd7295e9bd1e6">Episode 7</button>
              </div>
              <div class="col-lg-2 col-md-4 col-sm-12">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#questionModal" data-question="Let's mix it up with some maths. The answer is the sum of four consecutive prime numbers starting with 47" data-answer="220" data-btntxt="" data-btnresponse="" data-eplink="https://stream-1-1-ip4.loadshare.org/slice/7/VideoID-c34elv8l/Xfmjlv/pA5J1n/hulMNd/zhpsTE/360?name=greys-anatomy-season-18-episode-08-it-came-upon-a-midnight-clear_360&token=ip=84.252.220.231~st=1640867531~exp=1640881931~acl=/*~hmac=513110c0da5cfe9db2c86adad859bfb6a1d86760d5b5381a593feafbfd81e439">Episode 8</button>
              </div>
              <div class="col-lg-2 col-md-4 col-sm-12">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#questionModal" data-question="This episode is not available yet" data-answer="Answer" data-btntxt="" data-btnresponse="" data-eplink="">Episode 9</button>
              </div>
              <div class="col-lg-2 col-md-4 col-sm-12">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#questionModal" data-question="If numero 9 isn't available, then numero 10 won't be" data-answer="Answer" data-btntxt="" data-btnresponse="" data-eplink="">Episode 10</button>
              </div>
              <div class="col-lg-2 col-md-4 col-sm-12">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#questionModal" data-question="Why are you still clicking when you know there are no more episodes" data-answer="" data-btntxt="" data-btnresponse="" data-eplink="">Episode 11</button>
              </div>
              <div class="col-lg-2 col-md-4 col-sm-12">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#questionModal" data-question="If you have clicked on this one, then you are an ass." data-answer="Answer" data-btntxt="" data-btnresponse="" data-eplink="">Episode 12</button>
              </div>
          </div>
        </div>
    </section>


  <div class="modal fade" id="questionModal" tabindex="-1" role="dialog" aria-labelledby="questionModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="questionModalLabel">New message</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form>
            <div class="form-group ">
               <label for="answer-field" class="col-form-label">Answer:</label>
               <input type="text" class="form-control" id="answer-field">
             </div>
              <button type="button" id="sub-btn" class="btn btn-sm col-4 btn-primary" onclick="submitAnswer();">Submit answer</button>
              <button type="button" id="alt-btn" class="btn btn-sm col-7 btn-secondary alt-btn" data-dismiss="modal" onclick="giveUp();"></button>
              <button hidden type="button" id="link-btn" class="btn btn-sm col-12 btn-secondary ep-link">Click to download the episode</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  </body>

  <script>

    var correctAnswer = "";
    var epLink = "";
    var altBtnTxt = "";
    var altBtnRes = "";

    $('#questionModal').on('show.bs.modal', function (event) {

      var button = $(event.relatedTarget) // Button that triggered the modal
      var question = button.data('question') // Extract info from data-* attributes
      correctAnswer = button.data('answer') // Extract info from data-* attributes
      epLink = button.data('eplink')
      altBtnTxt = button.data('btntxt')
      altBtnRes = button.data('btnresponse')
      document.getElementById("link-btn").setAttribute("onclick", "window.location.href='"+ epLink +"';");

      var modal = $(this)
      modal.find('.modal-title').text('Answer the question to access the episode')
      modal.find('.col-form-label').text(question)
      modal.find('.modal-body input').val("Enter answer")
      modal.find('.alt-btn').text(altBtnTxt)


      if(altBtnTxt == ""){
          document.getElementById("alt-btn").setAttribute("hidden", "hidden");
      }else{
        document.getElementById("alt-btn").removeAttribute("hidden");
      }

      if(epLink == ""){
          document.getElementById("alt-btn").setAttribute("hidden", "hidden");
          document.getElementById("sub-btn").setAttribute("hidden", "hidden");
          document.getElementById("answer-field").setAttribute("hidden", "hidden");
      }else{
        document.getElementById("alt-btn").removeAttribute("hidden");
        document.getElementById("sub-btn").removeAttribute("hidden");
        document.getElementById("answer-field").removeAttribute("hidden");
      }


    })


    function giveUp(){
      alert(altBtnRes)
    }

    function submitAnswer(){

      var userAnswer =  document.getElementById("answer-field").value;
      if(userAnswer.toLowerCase() == correctAnswer.toLowerCase() ){
         document.getElementById("link-btn").removeAttribute("hidden");
      } else{
        alert("INCORRECT answer submitted " + userAnswer + " " + eplink)
      }
    }
  </script>
</html>

<!--
add actual episode links -->
